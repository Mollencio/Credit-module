"""
Telegram-Ğ±Ğ¾Ñ‚ Â«Ğ¤Ğ¸Ğ½ ÑĞ¾Ğ²ĞµÑ‚Ğ½Ğ¸ĞºÂ» (@creditvn_advisor_bot)
ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ˜Ğ˜-ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ğ½Ñ‚ Ğ¿Ğ¾ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ğ¾Ğ¹ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ²Ğ¾ĞµĞ½Ğ½Ğ¾ÑĞ»ÑƒĞ¶Ğ°Ñ‰Ğ¸Ñ….

ĞŸÑ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚ Ğ¸Ğ· Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ¸ Ğ¸ Ğ²Ñ‹Ğ´Ğ°Ñ‘Ñ‚
Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ñ… Ğ½Ğ°Ğ²Ñ‹ĞºĞ¾Ğ².
"""

import os
import re
import logging
from typing import Optional
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import (
    ApplicationBuilder,
    CommandHandler,
    MessageHandler,
    CallbackQueryHandler,
    ContextTypes,
    filters,
)

# â”€â”€â”€ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ â”€â”€â”€
BOT_TOKEN = os.environ.get("BOT_TOKEN", "8433627529:AAEU7hRHwApXgWNP8hpM2HoGJ4FkqFvRqgY")

logging.basicConfig(
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    level=logging.INFO,
)
logger = logging.getLogger(__name__)


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#  Ğ‘ĞĞ—Ğ Ğ Ğ•ĞšĞĞœĞ•ĞĞ”ĞĞ¦Ğ˜Ğ™ ĞŸĞ Ğ ĞĞ—Ğ”Ğ•Ğ›ĞĞœ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SECTION_ADVICE = {
    "ĞĞ½ĞºĞµÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ": {
        "critical": [
            "Ğ’Ğ°ÑˆĞ¸ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ Ğ¾ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ñ… Ğ½ÑƒĞ¶Ğ´Ğ°ÑÑ‚ÑÑ Ğ² ÑĞµÑ€ÑŒÑ‘Ğ·Ğ½Ğ¾Ğ¼ ÑƒĞºÑ€ĞµĞ¿Ğ»ĞµĞ½Ğ¸Ğ¸.",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ñ‹: Ñ‡Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ ĞŸĞ¡Ğš, Ğ°Ğ½Ğ½ÑƒĞ¸Ñ‚ĞµÑ‚Ğ½Ñ‹Ğ¹ Ğ¸ Ğ´Ğ¸Ñ„Ñ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶\n"
            "  2. ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ€Ğ°Ğ·Ğ´ĞµĞ» Â«ĞšÑ€ĞµĞ´Ğ¸Ñ‚Ñ‹Â» Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ Ğ¦Ğ‘ Ğ Ğ¤ (cbr.ru/consumer)\n"
            "  3. ĞŸÑ€Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹ ĞºÑƒÑ€Ñ Â«Ğ¤Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ğ°Ñ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒÂ» Ğ½Ğ° Stepik Ğ¸Ğ»Ğ¸ Ğ¤Ğ¸Ğ½Ğ³Ñ€Ğ°Ğ¼\n"
            "  4. ĞŸĞµÑ€ĞµĞ´ Ğ»ÑĞ±Ñ‹Ğ¼ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ğ¼ Ñ€ĞµÑˆĞµĞ½Ğ¸ĞµĞ¼ ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚ĞµÑÑŒ Ñ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ğ¼ ÑĞ¾Ğ²ĞµÑ‚Ğ½Ğ¸ĞºĞ¾Ğ¼ Ñ‡Ğ°ÑÑ‚Ğ¸",
        ],
        "warning": [
            "Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ ĞµÑÑ‚ÑŒ, Ğ½Ğ¾ Ğ½ĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ°ÑĞ¿ĞµĞºÑ‚Ñ‹ Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ Ğ´Ğ¾Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸.",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. Ğ£Ğ³Ğ»ÑƒĞ±Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ° (ĞŸĞ¡Ğš)\n"
            "  2. ĞĞ°ÑƒÑ‡Ğ¸Ñ‚ĞµÑÑŒ ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ±Ğ°Ğ½ĞºĞ¾Ğ² Ğ¿Ğ¾ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼\n"
            "  3. Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñƒ Ğ²Ğ¾ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞºĞ¸ (ĞĞ˜Ğ¡) â€” ÑÑ‚Ğ¾ Ğ²Ğ°ÑˆĞµ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾",
        ],
        "good": [
            "ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ñ… Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ Ğ¾ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ñ…!",
            "Ğ¡Ğ¾Ğ²ĞµÑ‚: Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ğ¹Ñ‚Ğµ ÑĞ»ĞµĞ´Ğ¸Ñ‚ÑŒ Ğ·Ğ° Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ² Ğ·Ğ°ĞºĞ¾Ğ½Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğµ (Ğ¤Ğ—-353) Ğ¸ ÑÑ‚Ğ°Ğ²ĞºĞ°Ğ¼Ğ¸ Ğ¦Ğ‘.",
        ],
    },
    "Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ ĞŸĞ¡Ğš": {
        "critical": [
            "Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ° â€” ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğ¹ Ğ½Ğ°Ğ²Ñ‹Ğº, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ñƒ Ğ²Ğ°Ñ Ğ¿Ğ¾ĞºĞ° ÑĞ»Ğ°Ğ±Ñ‹Ğ¹.",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. Ğ—Ğ°Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚Ğµ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñƒ: ĞŸĞ¡Ğš ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ’Ğ¡Ğ• Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸ (Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ñ‹ + ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ + ÑÑ‚Ñ€Ğ°Ñ…Ğ¾Ğ²ĞºĞ¸)\n"
            "  2. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¦Ğ‘: cbr.ru/calc/pcalc â€” Ğ²Ğ²Ğ¾Ğ´Ğ¸Ñ‚Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸ ÑĞ²ĞµÑ€ÑĞ¹Ñ‚Ğµ\n"
            "  3. ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾: ĞµÑĞ»Ğ¸ ĞŸĞ¡Ğš ÑÑƒÑ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ Ğ²Ñ‹ÑˆĞµ ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ² Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğµ â€” ĞµÑÑ‚ÑŒ ÑĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸\n"
            "  4. ĞŸÑ€Ğ°ĞºÑ‚Ğ¸ĞºĞ°: Ğ²Ğ¾Ğ·ÑŒĞ¼Ğ¸Ñ‚Ğµ 3 Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ±Ğ°Ğ½ĞºĞ¾Ğ² Ğ¸ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ ĞŸĞ¡Ğš ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾",
        ],
        "warning": [
            "Ğ’Ñ‹ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ñ‹ ĞŸĞ¡Ğš, Ğ½Ğ¾ Ğ´Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµÑ‚Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ² Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ°Ñ….",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. ĞÑ‚Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ½Ğ° ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°Ñ… (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ banki.ru)\n"
            "  2. ĞĞ±Ñ€Ğ°Ñ‰Ğ°Ğ¹Ñ‚Ğµ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸: ÑÑ‚Ñ€Ğ°Ñ…Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, Ğ¡ĞœĞ¡-Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ\n"
            "  3. Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ¿Ğ¾ ĞŸĞ¡Ğš, Ğ° Ğ½Ğµ Ğ¿Ğ¾ Ğ½Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑÑ‚Ğ°Ğ²ĞºĞµ",
        ],
        "good": [
            "Ğ’Ñ‹ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾ Ñ€Ğ°Ğ·Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ĞµÑÑŒ Ğ² Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğµ ĞŸĞ¡Ğš â€” ÑÑ‚Ğ¾ Ğ¼Ğ¾Ñ‰Ğ½Ñ‹Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹!",
            "Ğ¡Ğ¾Ğ²ĞµÑ‚: Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ğ¹Ñ‚Ğµ ÑĞ¾ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ñ†Ğ°Ğ¼ Ğ¾Ñ†ĞµĞ½Ğ¸Ğ²Ğ°Ñ‚ÑŒ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ğµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ â€” Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ ÑƒĞºÑ€ĞµĞ¿Ğ¸Ñ‚ Ğ²Ğ°ÑˆĞ¸ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸.",
        ],
    },
    "Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹": {
        "critical": [
            "ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ² Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹ â€” ÑĞ»Ğ°Ğ±Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾. Ğ­Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ²ĞµÑÑ‚Ğ¸ Ğº Ğ¿ĞµÑ€ĞµĞ¿Ğ»Ğ°Ñ‚Ğµ.",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. Ğ Ğ°Ğ·Ğ±ĞµÑ€Ğ¸Ñ‚ĞµÑÑŒ Ğ² Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğµ: Ğ°Ğ½Ğ½ÑƒĞ¸Ñ‚ĞµÑ‚Ğ½Ñ‹Ğ¹ (Ñ€Ğ°Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸) vs Ğ´Ğ¸Ñ„Ñ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ (ÑƒĞ±Ñ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğµ)\n"
            "  2. ĞĞ½Ğ½ÑƒĞ¸Ñ‚ĞµÑ‚Ğ½Ñ‹Ğ¹ = Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ¿ĞµÑ€ĞµĞ¿Ğ»Ğ°Ñ‚Ğ°, Ğ½Ğ¾ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½ĞµĞµ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ½Ğ° Ğ±ÑĞ´Ğ¶ĞµÑ‚\n"
            "  3. Ğ”Ğ¸Ñ„Ñ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ = Ğ¼ĞµĞ½ÑŒÑˆĞµ Ğ¿ĞµÑ€ĞµĞ¿Ğ»Ğ°Ñ‚Ğ°, Ğ½Ğ¾ Ğ¿ĞµÑ€Ğ²Ñ‹Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸ Ğ²Ñ‹ÑˆĞµ\n"
            "  4. ĞŸÑ€Ğ°ĞºÑ‚Ğ¸ĞºĞ°: Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ² Excel Ğ´Ğ»Ñ ÑÑƒĞ¼Ğ¼Ñ‹ 1 Ğ¼Ğ»Ğ½ Ğ½Ğ° 5 Ğ»ĞµÑ‚ Ğ¿Ğ¾Ğ´ 12%\n"
            "  5. ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ 30%: ĞµĞ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶ Ğ½Ğµ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞ°Ñ‚ÑŒ 30% Ğ´Ğ¾Ñ…Ğ¾Ğ´Ğ°",
        ],
        "warning": [
            "Ğ’Ñ‹ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ñ‹ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ², Ğ½Ğ¾ Ğ¿ÑƒÑ‚Ğ°ĞµÑ‚ĞµÑÑŒ Ğ² Ğ´ĞµÑ‚Ğ°Ğ»ÑÑ….",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. ĞĞ°ÑƒÑ‡Ğ¸Ñ‚ĞµÑÑŒ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğµ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸: Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ¿Ğ»Ğ°Ñ‚Ñƒ, Ñ‚ĞµĞ»Ğ¾ Ğ´Ğ¾Ğ»Ğ³Ğ°, Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ñ‹\n"
            "  2. ĞŸÑ€Ğ¸ Ğ´Ğ¾ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾Ğ¼ Ğ¿Ğ¾Ğ³Ğ°ÑˆĞµĞ½Ğ¸Ğ¸ â€” ÑƒÑ‚Ğ¾Ñ‡Ğ½ÑĞ¹Ñ‚Ğµ: ÑƒĞ¼ĞµĞ½ÑŒÑˆĞ°ĞµÑ‚ÑÑ ÑÑ€Ğ¾Ğº Ğ¸Ğ»Ğ¸ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶?\n"
            "  3. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Â«ĞœĞ¾Ğ¹ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Â» Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ²",
        ],
        "good": [
            "Ğ’Ñ‹ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚Ğµ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹ â€” ÑÑ‚Ğ¾ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ Ğ²Ğ·Ğ²ĞµÑˆĞµĞ½Ğ½Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ.",
            "Ğ¡Ğ¾Ğ²ĞµÑ‚: Ğ¿Ñ€Ğ¸ Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞºĞµ (Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ Ğ²Ğ¾ĞµĞ½Ğ½Ğ¾Ğ¹) â€” Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ñ„Ğ¸Ğº Ğ´Ğ¾ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ.",
        ],
    },
    "ĞœĞ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾": {
        "critical": [
            "Ğ’ĞĞ˜ĞœĞĞĞ˜Ğ•: Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ñ€Ğ°ÑĞ¿Ğ¾Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° â€” Ğ²Ñ‹ Ğ² Ğ·Ğ¾Ğ½Ğµ Ñ€Ğ¸ÑĞºĞ°!",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. ĞĞ˜ĞšĞĞ“Ğ”Ğ Ğ½Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰Ğ°Ğ¹Ñ‚Ğµ ĞºĞ¾Ğ´Ñ‹ Ğ¸Ğ· Ğ¡ĞœĞ¡, Ğ´Ğ°Ğ¶Ğµ Â«ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ°Ğ¼ Ğ±Ğ°Ğ½ĞºĞ°Â»\n"
            "  2. Ğ‘Ğ°Ğ½Ğº ĞĞ˜ĞšĞĞ“Ğ”Ğ Ğ½Ğµ Ğ·Ğ²Ğ¾Ğ½Ğ¸Ñ‚ Ğ´Ğ»Ñ Â«Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸Â» Ğ¸Ğ»Ğ¸ Â«Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹ ÑÑ‡Ñ‘Ñ‚Ğ°Â»\n"
            "  3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞ¹Ñ‚Ğµ Ğ»ÑĞ±ÑƒÑ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ Ğ¦Ğ‘: cbr.ru/registries\n"
            "  4. ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ 24 Ñ‡Ğ°ÑĞ¾Ğ²: Ğ½Ğµ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ñ… Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾Ğ´ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼\n"
            "  5. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ°Ğ½Ñ‚Ğ¸ÑĞ¿Ğ°Ğ¼ (Kaspersky Who Calls Ğ¸Ğ»Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³)\n"
            "  6. ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ Ğ² Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸ Ğ±Ğ°Ğ½ĞºĞ°",
        ],
        "warning": [
            "Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° ĞµÑÑ‚ÑŒ, Ğ½Ğ¾ ÑƒÑĞ·Ğ²Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾ÑÑ‚Ğ°ÑÑ‚ÑÑ.",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ…ĞµĞ¼Ñ‹ Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ Ğ¦Ğ‘ (Ñ€Ğ°Ğ·Ğ´ĞµĞ» Â«Ğ¤Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ğ¾Ğµ Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾Â»)\n"
            "  2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ Ğ½Ğ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ Ğ¸ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½-Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸\n"
            "  3. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½ÑƒÑ ĞºĞ°Ñ€Ñ‚Ñƒ Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚-Ğ¿Ğ¾ĞºÑƒĞ¿Ğ¾Ğº Ñ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¾Ğ¼",
        ],
        "good": [
            "ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾! Ğ’Ñ‹ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾ Ñ€Ğ°ÑĞ¿Ğ¾Ğ·Ğ½Ğ°Ñ‘Ñ‚Ğµ Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑÑ…ĞµĞ¼Ñ‹.",
            "Ğ¡Ğ¾Ğ²ĞµÑ‚: Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸ĞºĞ¸ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾ ÑĞ¾Ğ²ĞµÑ€ÑˆĞµĞ½ÑÑ‚Ğ²ÑƒÑÑ‚ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹. ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑˆĞ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° ĞºĞ°Ğ½Ğ°Ğ» @centralbank_russia Ğ² Telegram Ğ´Ğ»Ñ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğ¹.",
        ],
    },
    "ĞšĞµĞ¹Ñ-Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸": {
        "critical": [
            "ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ Ğ² Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸ÑÑ… â€” Ğ²Ğ°ÑˆĞµ ÑĞ»Ğ°Ğ±Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾.",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. Ğ Ğ°Ğ·Ğ±Ğ¸Ñ€Ğ°Ğ¹Ñ‚Ğµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞµĞ¹ÑÑ‹: Ñ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹ Ğ·Ğ°Ñ‘Ğ¼Ñ‰Ğ¸ĞºĞ¾Ğ² Ğ½Ğ° banki.ru/services/responses\n"
            "  2. Ğ¡Ğ¾ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ñ‡ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ¿ĞµÑ€ĞµĞ´ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ»ÑĞ±Ğ¾Ğ³Ğ¾ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ° (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 10 Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ²)\n"
            "  3. ĞŸÑ€ĞµĞ¶Ğ´Ğµ Ñ‡ĞµĞ¼ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€ â€” Ğ¿Ğ¾ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ ĞµĞ³Ğ¾ ÑÑ€Ğ¸ÑÑ‚Ñƒ Ñ‡Ğ°ÑÑ‚Ğ¸\n"
            "  4. Ğ Ğ°ÑÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹: Ğ¼Ğ¾Ğ¶ĞµÑ‚, Ñ†ĞµĞ»ÑŒ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶Ğ¸Ğ¼Ğ° Ğ±ĞµĞ· ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ°?",
        ],
        "warning": [
            "Ğ’Ñ‹ ÑĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ĞµÑÑŒ Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğ¼Ğ¸ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸ÑĞ¼Ğ¸, Ğ½Ğ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ ĞºĞµĞ¹ÑÑ‹ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ Ğ·Ğ°Ñ‚Ñ€ÑƒĞ´Ğ½ĞµĞ½Ğ¸Ñ.",
            "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. Ğ¢Ñ€ĞµĞ½Ğ¸Ñ€ÑƒĞ¹Ñ‚ĞµÑÑŒ Ğ½Ğ° Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°Ñ… â€” Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸ Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğ¼Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸\n"
            "  2. ĞĞ°ÑƒÑ‡Ğ¸Ñ‚ĞµÑÑŒ Ğ¾Ñ†ĞµĞ½Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ¾Ğ»Ğ³Ğ¾Ğ²ÑƒÑ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ (ĞŸĞ”Ğ) Ğ´Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ğ² Ğ±Ğ°Ğ½Ğº\n"
            "  3. Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ·Ğ°Ñ‘Ğ¼Ñ‰Ğ¸ĞºĞ°: Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´ Ğ¾Ñ…Ğ»Ğ°Ğ¶Ğ´ĞµĞ½Ğ¸Ñ, Ğ´Ğ¾ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ³Ğ°ÑˆĞµĞ½Ğ¸Ğµ, Ñ€ĞµÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ",
        ],
        "good": [
            "Ğ’Ñ‹ ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ Ğ½Ğ° Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞµ â€” ÑÑ‚Ğ¾ Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸!",
            "Ğ¡Ğ¾Ğ²ĞµÑ‚: Ğ´ĞµĞ»Ğ¸Ñ‚ĞµÑÑŒ Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğ¼ â€” Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ğ¹Ñ‚Ğµ ÑĞ¾ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ñ†Ğ°Ğ¼ Ñ€Ğ°Ğ·Ğ±Ğ¸Ñ€Ğ°Ñ‚ÑŒ Ğ¸Ñ… ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ğµ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸.",
        ],
    },
}

# ĞĞ±Ñ‰Ğ¸Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ
LEVEL_SUMMARY = {
    "ĞĞ¸Ğ·ĞºĞ¸Ğ¹": (
        "Ğ’Ğ°Ñˆ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ğ¾Ğ¹ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸ â€” ĞĞ˜Ğ—ĞšĞ˜Ğ™. "
        "Ğ­Ñ‚Ğ¾ Ğ½Ğµ Ğ¿Ñ€Ğ¸Ğ³Ğ¾Ğ²Ğ¾Ñ€, Ğ° Ñ‚Ğ¾Ñ‡ĞºĞ° Ñ€Ğ¾ÑÑ‚Ğ°. Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ â€” Ğ½Ğµ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ ÑĞµÑ€ÑŒÑ‘Ğ·Ğ½Ñ‹Ñ… Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ñ… "
        "Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ Ğ±ĞµĞ· Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸.\n\n"
        "ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹:\n"
        "  1. ĞĞ°Ñ‡Ğ½Ğ¸Ñ‚Ğµ Ñ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾Ğ³Ğ¾ ĞºÑƒÑ€ÑĞ° Ğ¿Ğ¾ Ñ„Ğ¸Ğ½Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸ (Stepik, Ğ¤Ğ¸Ğ½Ğ³Ñ€Ğ°Ğ¼, moex.com)\n"
        "  2. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾: Ğ½Ğ¸ĞºĞ°ĞºĞ¸Ñ… ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ² Ğ½Ğ° ÑĞ¼Ğ¾Ñ†Ğ¸ÑÑ…\n"
        "  3. ĞŸĞµÑ€ĞµĞ´ Ğ»ÑĞ±Ñ‹Ğ¼ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ¼ â€” Ğ½ĞµĞ´ĞµĞ»Ñ Ğ½Ğ° Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸ ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ\n"
        "  4. ĞšĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚ĞµÑÑŒ Ñ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ğ¼ ÑĞ¾Ğ²ĞµÑ‚Ğ½Ğ¸ĞºĞ¾Ğ¼ Ñ‡Ğ°ÑÑ‚Ğ¸"
    ),
    "Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹": (
        "Ğ’Ğ°Ñˆ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ğ¾Ğ¹ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸ â€” Ğ¡Ğ Ğ•Ğ”ĞĞ˜Ğ™. "
        "Ğ£ Ğ²Ğ°Ñ ĞµÑÑ‚ÑŒ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ°Ñ Ğ±Ğ°Ğ·Ğ°, Ğ½Ğ¾ ĞµÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¼Ğ¾Ğ³ÑƒÑ‚ ÑÑ‚Ğ¾Ğ¸Ñ‚ÑŒ Ğ´ĞµĞ½ĞµĞ³.\n\n"
        "ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹:\n"
        "  1. Ğ¡ĞºĞ¾Ğ½Ñ†ĞµĞ½Ñ‚Ñ€Ğ¸Ñ€ÑƒĞ¹Ñ‚ĞµÑÑŒ Ğ½Ğ° ÑĞ»Ğ°Ğ±Ñ‹Ñ… Ğ·Ğ¾Ğ½Ğ°Ñ… (Ğ¾Ñ‚Ğ¼ĞµÑ‡ĞµĞ½Ñ‹ Ğ½Ğ¸Ğ¶Ğµ)\n"
        "  2. ĞŸÑ€Ğ°ĞºÑ‚Ğ¸ĞºÑƒĞ¹Ñ‚Ğµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ğ½Ğ° Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ÑÑ… Ğ±Ğ°Ğ½ĞºĞ¾Ğ²\n"
        "  3. Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñƒ ĞĞ˜Ğ¡ (Ğ²Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞºĞ°) â€” Ğ²Ğ°Ñˆ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚\n"
        "  4. Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²ÑƒÑ Ğ¿Ğ¾Ğ´ÑƒÑˆĞºÑƒ (3-6 Ğ¾ĞºĞ»Ğ°Ğ´Ğ¾Ğ²)"
    ),
    "Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹": (
        "Ğ’Ğ°Ñˆ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ğ¾Ğ¹ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸ â€” Ğ’Ğ«Ğ¡ĞĞšĞ˜Ğ™! "
        "Ğ’Ñ‹ Ğ¾Ğ±Ğ»Ğ°Ğ´Ğ°ĞµÑ‚Ğµ ÑĞµÑ€ÑŒÑ‘Ğ·Ğ½Ñ‹Ğ¼Ğ¸ Ğ·Ğ½Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸ Ğ¸ Ğ½Ğ°Ğ²Ñ‹ĞºĞ°Ğ¼Ğ¸ Ğ² Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.\n\n"
        "Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ñ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ:\n"
        "  1. Ğ¡Ğ»ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ° Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ² Ğ·Ğ°ĞºĞ¾Ğ½Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğµ\n"
        "  2. Ğ”ĞµĞ»Ğ¸Ñ‚ĞµÑÑŒ Ğ·Ğ½Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸ Ñ ÑĞ¾ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ñ†Ğ°Ğ¼Ğ¸ â€” ÑÑ‚Ğ¾ ÑƒĞºÑ€ĞµĞ¿Ğ»ÑĞµÑ‚ Ğ²Ğ°ÑˆĞ¸ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸\n"
        "  3. Ğ Ğ°ÑÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ Ñ€Ğ¾Ğ»ÑŒ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ½Ğ°ÑÑ‚Ğ°Ğ²Ğ½Ğ¸ĞºĞ° Ğ² Ğ¿Ğ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğ¸\n"
        "  4. Ğ˜Ğ·ÑƒÑ‡Ğ°Ğ¹Ñ‚Ğµ Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½ÑƒÑ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞºĞ°Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ ÑˆĞ°Ğ³"
    ),
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#  ĞŸĞĞ Ğ¡Ğ˜ĞĞ“ ĞĞ¢Ğ§ĞĞ¢Ğ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def parse_report(text: str) -> Optional[dict]:
    """ĞŸĞ°Ñ€ÑĞ¸Ñ‚ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚ Ğ¸Ğ· Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ¸."""
    result = {}

    # ĞĞ±Ñ‰Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
    m = re.search(r"ĞĞ±Ñ‰Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:\s*(\d+)\s*Ğ¸Ğ·\s*100\s*\((\w+)\)", text)
    if not m:
        return None
    result["total"] = int(m.group(1))
    result["level"] = m.group(2)

    # Ğ‘Ğ°Ğ»Ğ»Ñ‹ Ğ¿Ğ¾ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ°Ğ¼
    sections = {}
    for match in re.finditer(r"(\S[^:]+?):\s*(\d+)/(\d+)\s*\((\d+)%\)", text):
        name = match.group(1).strip()
        sections[name] = {
            "score": int(match.group(2)),
            "max": int(match.group(3)),
            "pct": int(match.group(4)),
        }
    result["sections"] = sections

    # Ğ¡Ğ»Ğ°Ğ±Ñ‹Ğµ Ğ·Ğ¾Ğ½Ñ‹
    weak = []
    for match in re.finditer(r"\[(ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ|Ğ’ĞĞ˜ĞœĞĞĞ˜Ğ•)\]\s*(.+?):\s*(\d+)%", text):
        weak.append({
            "severity": match.group(1),
            "section": match.group(2).strip(),
            "pct": int(match.group(3)),
        })
    result["weak_zones"] = weak

    return result


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#  Ğ“Ğ•ĞĞ•Ğ ĞĞ¦Ğ˜Ğ¯ Ğ Ğ•ĞšĞĞœĞ•ĞĞ”ĞĞ¦Ğ˜Ğ™
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def generate_advice(data: dict) -> str:
    """Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ°."""
    lines = []

    # Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº
    lines.append("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")
    lines.append("  ĞŸĞ•Ğ Ğ¡ĞĞĞĞ›Ğ˜Ğ—Ğ˜Ğ ĞĞ’ĞĞĞĞ«Ğ• Ğ Ğ•ĞšĞĞœĞ•ĞĞ”ĞĞ¦Ğ˜Ğ˜")
    lines.append("  Ğ¤Ğ¸Ğ½ ÑĞ¾Ğ²ĞµÑ‚Ğ½Ğ¸Ğº | Ğ˜Ğ˜-ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ğ½Ñ‚")
    lines.append("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n")

    # ĞĞ±Ñ‰Ğ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ
    level = data["level"]
    total = data["total"]
    lines.append(f"Ğ’Ğ°Ñˆ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: {total}/100")

    summary = LEVEL_SUMMARY.get(level, LEVEL_SUMMARY["Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹"])
    lines.append(summary)
    lines.append("")

    # Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼Ñƒ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ñƒ
    lines.append("\nâ•â• Ğ ĞĞ—Ğ‘ĞĞ  ĞŸĞ Ğ ĞĞ—Ğ”Ğ•Ğ›ĞĞœ â•â•\n")

    for section_name, stats in data["sections"].items():
        pct = stats["pct"]
        advice_set = SECTION_ADVICE.get(section_name)

        if not advice_set:
            continue

        # ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ
        if pct < 40:
            category = "critical"
            icon = "ğŸ”´"
        elif pct < 70:
            category = "warning"
            icon = "ğŸŸ¡"
        else:
            category = "good"
            icon = "ğŸŸ¢"

        lines.append(f"{icon} {section_name}: {stats['score']}/{stats['max']} ({pct}%)")
        lines.append("â”€" * 30)

        for paragraph in advice_set[category]:
            lines.append(paragraph)
        lines.append("")

    # ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ½Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ
    if data["weak_zones"]:
        lines.append("\nâš¡ ĞŸĞ Ğ˜ĞĞ Ğ˜Ğ¢Ğ•Ğ¢ĞĞ«Ğ• Ğ”Ğ•Ğ™Ğ¡Ğ¢Ğ’Ğ˜Ğ¯ (Ğ½Ğ°Ñ‡Ğ½Ğ¸Ñ‚Ğµ Ñ ÑÑ‚Ğ¾Ğ³Ğ¾):\n")
        for i, zone in enumerate(data["weak_zones"], 1):
            severity = "Ğ¡Ğ ĞĞ§ĞĞ" if zone["severity"] == "ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ" else "Ğ’ĞĞ–ĞĞ"
            lines.append(f"  {i}. [{severity}] {zone['section']} ({zone['pct']}%)")

            # ĞšÑ€Ğ°Ñ‚ĞºĞ°Ñ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ½Ğ°Ñ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ
            advice_set = SECTION_ADVICE.get(zone["section"])
            if advice_set:
                cat = "critical" if zone["severity"] == "ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ" else "warning"
                if advice_set[cat]:
                    lines.append(f"     â†’ {advice_set[cat][0]}")
            lines.append("")

    # Ğ¤ÑƒÑ‚ĞµÑ€
    lines.append("\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")
    lines.append("ĞŸÑ€Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºÑƒ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· 2-4 Ğ½ĞµĞ´ĞµĞ»Ğ¸,")
    lines.append("Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ñ‚ÑĞ»ĞµĞ´Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ.")
    lines.append("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")

    return "\n".join(lines)


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#  ĞĞ‘Ğ ĞĞ‘ĞĞ¢Ğ§Ğ˜ĞšĞ˜ ĞšĞĞœĞĞĞ”
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async def cmd_start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° /start Ğ¸ deep-link Ğ¸Ğ· Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ."""
    user = update.effective_user.first_name or "Ğ²Ğ¾ĞµĞ½Ğ½Ğ¾ÑĞ»ÑƒĞ¶Ğ°Ñ‰Ğ¸Ğ¹"

    text = (
        f"Ğ—Ğ´Ñ€Ğ°Ğ²Ğ¸Ñ Ğ¶ĞµĞ»Ğ°Ñ, {user}!\n\n"
        "Ğ¯ â€” Ğ²Ğ°Ñˆ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ˜Ğ˜-ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ğ½Ñ‚ Ğ¿Ğ¾ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ğ¾Ğ¹ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸.\n\n"
        "ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ:\n"
        "  1. ĞŸÑ€Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºÑƒ Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ¸\n"
        "  2. Ğ’ ĞºĞ¾Ğ½Ñ†Ğµ Ñ‚ĞµÑÑ‚Ğ° Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Â«Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Â»\n"
        "  3. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚ ÑÑĞ´Ğ° â€” Ñ Ğ¿Ñ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒÑ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹\n"
        "     Ğ¸ Ğ´Ğ°Ğ¼ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸\n\n"
        "ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ²ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ñ‚ĞµĞºÑÑ‚ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ° Ğ² ÑÑ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ."
    )

    keyboard = [
        [InlineKeyboardButton(
            "ĞŸÑ€Ğ¾Ğ¹Ñ‚Ğ¸ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºÑƒ",
            url="https://credit-module-lcld.vercel.app/"
        )]
    ]

    await update.message.reply_text(
        text,
        reply_markup=InlineKeyboardMarkup(keyboard),
    )


async def handle_report(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ° Ğ¸Ğ· Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ."""
    text = update.message.text

    # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğµ Ğ»Ğ¸ Ğ½Ğ° Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚
    if "ĞĞ¢Ğ§ĞĞ¢ Ğ Ğ”Ğ˜ĞĞ“ĞĞĞ¡Ğ¢Ğ˜ĞšĞ•" not in text and "ĞĞ±Ñ‰Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚" not in text:
        await update.message.reply_text(
            "Ğ¯ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ñ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚ Ğ¸Ğ· Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ¸ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ğ¾Ğ¹ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸.\n\n"
            "Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
            "  1. ĞŸÑ€Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ñ‚ĞµÑÑ‚ Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ\n"
            "  2. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Â«Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Â»\n"
            "  3. Ğ’ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ñ‚ĞµĞºÑÑ‚ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ° ÑÑĞ´Ğ°\n\n"
            "Ğ˜Ğ»Ğ¸ Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ /start Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑÑÑ‹Ğ»ĞºÑƒ Ğ½Ğ° Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºÑƒ."
        )
        return

    # ĞŸĞ°Ñ€ÑĞ¸Ğ¼ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚
    await update.message.reply_text("ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒÑ Ğ²Ğ°Ñˆ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚... ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾.")

    data = parse_report(text)
    if not data:
        await update.message.reply_text(
            "ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ñ€Ğ°ÑĞ¿Ğ¾Ğ·Ğ½Ğ°Ñ‚ÑŒ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ°.\n"
            "Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ²Ñ‹ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ»Ğ¸ ĞŸĞĞ›ĞĞ«Ğ™ Ñ‚ĞµĞºÑÑ‚ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ° Ğ¸Ğ· Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ."
        )
        return

    # Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
    advice = generate_advice(data)

    # Telegram Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ 4096 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ°Ğ¼Ğ¸, Ñ€Ğ°Ğ·Ğ±Ğ¸Ğ²Ğ°ĞµĞ¼ ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾
    if len(advice) <= 4096:
        await update.message.reply_text(advice)
    else:
        chunks = [advice[i:i+4096] for i in range(0, len(advice), 4096)]
        for chunk in chunks:
            await update.message.reply_text(chunk)

    # ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ¸
    keyboard = [
        [InlineKeyboardButton(
            "ĞŸÑ€Ğ¾Ğ¹Ñ‚Ğ¸ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºÑƒ ĞµÑ‰Ñ‘ Ñ€Ğ°Ğ·",
            url="https://credit-module-lcld.vercel.app/"
        )]
    ]
    await update.message.reply_text(
        "Ğ–ĞµĞ»Ğ°Ñ ÑƒÑĞ¿ĞµÑ…Ğ¾Ğ² Ğ² Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğ¸ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ğ¾Ğ¹ Ğ³Ñ€Ğ°Ğ¼Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸!",
        reply_markup=InlineKeyboardMarkup(keyboard),
    )


async def cmd_help(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ Ğ±Ğ¾Ñ‚Ñƒ."""
    await update.message.reply_text(
        "ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ±Ğ¾Ñ‚Ğ°:\n\n"
        "/start â€” ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹, ÑÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºÑƒ\n"
        "/help â€” Ğ­Ñ‚Ğ° ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ°\n\n"
        "ĞšĞ°Ğº Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:\n"
        "  1. ĞŸÑ€Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ñ‚ĞµÑÑ‚ â†’ credit-module-lcld.vercel.app\n"
        "  2. Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚\n"
        "  3. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ ÑÑĞ´Ğ°\n"
        "  4. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ"
    )


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#  Ğ—ĞĞŸĞ£Ğ¡Ğš
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def main():
    app = ApplicationBuilder().token(BOT_TOKEN).build()

    app.add_handler(CommandHandler("start", cmd_start))
    app.add_handler(CommandHandler("help", cmd_help))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_report))

    logger.info("Ğ‘Ğ¾Ñ‚ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½. ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹...")
    app.run_polling()


if __name__ == "__main__":
    main()
